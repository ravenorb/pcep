<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="450" viewBox="0 0 900 450" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="450" fill="#050816"/>
  <style>
    .node { fill:#111827; stroke:#3b82f6; stroke-width:2; rx:12; ry:12; }
    .text { fill:#e5e7eb; font-family:Arial, sans-serif; font-size:13px; }
    .title { fill:#93c5fd; font-size:15px; font-weight:bold; }
  </style>

  <!-- Home Node -->
  <rect class="node" x="40" y="150" width="220" height="160"/>
  <text class="title" x="60" y="175">Home Node</text>
  <text class="text" x="60" y="200">pfSense (gateway, VPN, DNS, PXE)</text>
  <text class="text" x="60" y="220">HAOS (Home Assistant, Frigate, PBX)</text>
  <text class="text" x="60" y="240">Local storage / NAS</text>

  <!-- Cloud "bubble" -->
  <ellipse cx="620" cy="220" rx="240" ry="170" fill="#020617" stroke="#1d4ed8" stroke-width="2"/>
  <text class="title" x="550" y="80">Cloud / VPS Nodes</text>

  <!-- VPS1 -->
  <rect class="node" x="500" y="120" width="170" height="90"/>
  <text class="title" x="515" y="145">VPS1 - Mail</text>
  <text class="text" x="515" y="170">Mailcow / MIAB</text>
  <text class="text" x="515" y="190">MX, SPF, DKIM, DMARC</text>

  <!-- VPS2 -->
  <rect class="node" x="530" y="230" width="200" height="140"/>
  <text class="title" x="545" y="255">VPS2 - Edge</text>
  <text class="text" x="545" y="280">Caddy (reverse proxy)</text>
  <text class="text" x="545" y="300">Keycloak (SSO)</text>
  <text class="text" x="545" y="320">Seafile, Immich, Joplin</text>
  <text class="text" x="545" y="340">Ba√Økal, Forgejo</text>

  <!-- VPS3 -->
  <rect class="node" x="720" y="140" width="150" height="120"/>
  <text class="title" x="735" y="165">VPS3 - Backup</text>
  <text class="text" x="735" y="190">MinIO (S3)</text>
  <text class="text" x="735" y="210">restic repos</text>

  <!-- Connections -->
  <line x1="260" y1="230" x2="530" y2="260" stroke="#22c55e" stroke-width="2" stroke-dasharray="6 4"/>
  <text class="text" x="310" y="250">WireGuard tunnel</text>

  <line x1="615" y1="210" x2="615" y2="230" stroke="#3b82f6" stroke-width="2"/>
  <line x1="670" y1="200" x2="720" y2="200" stroke="#3b82f6" stroke-width="2"/>

  <text class="text" x="420" y="400">All public services fronted by VPS2 with SSO and TLS.</text>
</svg>
